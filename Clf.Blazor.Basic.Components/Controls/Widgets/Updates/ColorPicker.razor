@using Clf.Blazor.Basic.Components.Controls.Models
@* @using Clf.Blazor.Basic.Components.Controls.Widgets.Helpers *@
@using Microsoft.AspNetCore.Components.Web
@using Clf.Blazor.Basic.Components.Controls.Helpers
@using System.ComponentModel
@* @using Clf.Blazor.Basic.Components.Controls.Widgets.Containers *@
@inherits WidgetBase

@if (IsVisible)
{
	<Tooltip Text="@(ShowTooltip? TooltipText:string.Empty)">
		<input type="color" @bind="SelectedColorString"
			   style="--color-picker-width:@GetWidth(); --color-picker-height:@GetHeight();" />
	</Tooltip>
}

@code
{
	[Parameter]
	public string SelectedColorString { get; set; } = "#000000";

	protected override void OnInitialized()
	{
		base.OnInitialized();
	}

	private string GetWidth()
	{
		return Width != 0 ? $"{Width}px" : "var(--clf-color-picker-default-size)";
	}

	private string GetHeight()
	{
		return Height != 0 ? $"{Height}px" : "var(--clf-color-picker-default-size)";
	}

}